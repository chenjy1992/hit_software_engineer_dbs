<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.png">

    <title>{{@title}}</title>

    <!-- Bootstrap core CSS -->
    <link href="{{@UI}}lib/css/bootstrap.css" rel="stylesheet">
    <link href="{{@UI}}lib/css/bootstrap-datetimepicker.min.css" rel="stylesheet">

    <link rel='stylesheet' type='text/css' href='{{@UI}}lib/css/jquery-ui-1.8.11.custom.css' />
    <link rel='stylesheet' type='text/css' href='{{@UI}}lib/css/jquery.weekcalendar.css' />
    <link rel='stylesheet' type='text/css' href='{{@UI}}css/teacher.css' />
    <style type='text/css'>
    body {
      font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
      margin: 0;
    }

    h1 {
      margin: 0 0 1em;
      padding: 0.5em;
    }

    p.description {
      font-size: 0.8em;
      padding: 1em;
      position: absolute;
      top: 3.2em;
      margin-right: 400px;
    }

    #message {
      font-size: 0.7em;
      position: absolute;
      top: 1em;
      right: 1em;
      width: 350px;
      display: none;
      padding: 1em;
      background: #ffc;
      border: 1px solid #dda;
    }
    </style>

    <script type='text/javascript' src='{{@UI}}lib/js/jquery-1.4.4.min.js'></script>
    <script type='text/javascript' src='{{@UI}}lib/js/jquery-ui-1.8.11.custom.min.js'></script>

    <script type="text/javascript" src="{{@UI}}lib/js/date.js"></script>
    <script type='text/javascript' src='{{@UI}}lib/js/jquery.weekcalendar.js'></script>
    <script type='text/javascript'>
      var year = new Date().getFullYear();
      var month = new Date().getMonth();
      var day = new Date().getDate();

      var eventData = {
        events : []
      };

      $(document).ready(
        function() {$('#calendar').weekCalendar({
          timeslotsPerHour: 4,
          timeslotHeigh: 30,
          hourLine: true,
          data: eventData,
          
          height: function($calendar) {
            return $(window).height() - $('h1').outerHeight(true);
          },
          eventRender : function(calEvent, $event) {
            if (calEvent.end.getTime() < new Date().getTime()) {
              $event.css('backgroundColor', '#aaa');
              $event.find('.time').css({'backgroundColor': '#999', 'border':'1px solid #888'});
            }
          },
          eventNew: function(calEvent, $event) {
            displayMessage('<strong>Added event</strong><br/>Start: ' + calEvent.start + '<br/>End: ' + calEvent.end);
            alert('You\'ve added a new event. You would capture this event, add the logic for creating a new event with your own fields, data and whatever backend persistence you require.');
          },
          eventDrop: function(calEvent, $event) {
            displayMessage('<strong>Moved Event</strong><br/>Start: ' + calEvent.start + '<br/>End: ' + calEvent.end);
          },
          eventResize: function(calEvent, $event) {
            displayMessage('<strong>Resized Event</strong><br/>Start: ' + calEvent.start + '<br/>End: ' + calEvent.end);
          },
          eventClick: function(calEvent, $event) {
            displayMessage('<strong>Clicked Event</strong><br/>Start: ' + calEvent.start + '<br/>End: ' + calEvent.end);
          },
          eventMouseover: function(calEvent, $event) {
            displayMessage('<strong>Mouseover Event</strong><br/>Start: ' + calEvent.start + '<br/>End: ' + calEvent.end);
          },
          eventMouseout: function(calEvent, $event) {
            displayMessage('<strong>Mouseout Event</strong><br/>Start: ' + calEvent.start + '<br/>End: ' + calEvent.end);
          },
          noEvents: function() {
            displayMessage('There are no events for this week');
          }
        });

        function displayMessage(message) {
          $('#message').html(message).fadeIn();
        }

        $('<div id="message" class="ui-corner-all"></div>').prependTo($('body'));
      });

    </script>
  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <ul class="nav navbar-nav">
          <h2>&ensp;HIT 校园预约</h2>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <div class="btn-group navbar-btn">
          <button type="button" class="btn btn-default">今天</button>
          <button type="button" class="btn btn-default">2011年7月11日</button>
        </div>
        <div class="btn-group navbar-btn" style="width:100px"></div>
        <div class="btn-group navbar-btn">
          <a href="{{@WEB_ROOT}}login" class="btn btn-default">登录</a>
          <!-- <button type="button" class="btn btn-default" href="/login">登陆</button>-->
          <button type="button" class="btn btn-default">注册</button>
        </div>
        <div class="btn-group navbar-btn" style="width:15px"></div>
      </ul>
      <div id='calendar'></div>
    </div> <!-- /container -->
  </body>
</html>
